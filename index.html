<!DOCTYPE html>
<html>
<head>
    <title>HOOOST</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="icon" href="favicon.svg">
</head>
</head>
<body>
    <h1>Welcome to HOST</h1>
    <p>Test test tesT</p>
    <img src="favicon.svg" alt="favicon">
    <!-- <button onclick="lib/R/bin/exec/R">Run R Script</button> -->
</body>
</html>
<script src="filefile.js"></script>
<script>
    let all_files = fffiles.split('\n').map(file => file.replace(/^\./, ''));
    all_files.shift();
    all_files.pop();
    console.log("ONE FILES", all_files[0]);

    var Module = {
        preRun: function() {
            console.log("[PRE] Setting R_HOME");
            ENV['R_HOME'] = 'prefix_host/lib/R';

            console.log("[PRE] Setting up files");
            FS.mkdir('/bin');
            // FS.mkdir('/include');
            FS.mkdir('/lib');
            FS.mkdir('/share');
            // FS.mkdir('/tools');

            for (let i = 0; i < all_files.length; i++) {
                const file = all_files[i];
                const path_in_virtual_fs = `${file}`;
                const dirname = path_in_virtual_fs.split('/').slice(0, -1).join('/');
                const filename = path_in_virtual_fs.split('/').slice(-1)[0];
                FS.mkdirTree(dirname);
                FS.createPreloadedFile(dirname, filename, `${file}`, true, true);
                console.log(`Created file ${filename} in ${dirname}`);
            }

        },
        onRuntimeInitialized: function() {
            console.log("[RUNTIME] Module is ready");
        }
    }

</script>
<script src="prefix_host/lib/R/bin/Rscript"></script>
